---
interface Props {
  src: string;
  alt: string;
  caption?: string;
  index: number;
}

const { src, alt, caption, index } = Astro.props;

// For now, we'll use static images from the public folder
// In a real implementation, you'd use Astro's Image component with dynamic imports
// and extract EXIF data server-side
---

<div
  class="gallery-item"
  data-src={src}
  data-alt={alt}
  data-caption={caption || ''}
  data-exif=""
  data-index={index}
  role="button"
  tabindex="0"
  aria-label={`View image: ${alt}`}
>
  <img src={src} alt={alt} loading="lazy" />
  {caption && <p class="gallery-caption">{caption}</p>}
</div>

<style>
  .gallery-item {
    position: relative;
    cursor: pointer;
    overflow: hidden;
    border-radius: var(--radius-md);
    background-color: var(--color-surface);
    transition: transform var(--transition-base);
  }

  .gallery-item:hover {
    transform: scale(1.02);
  }

  .gallery-item:focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
  }

  .gallery-item img {
    width: 100%;
    height: auto;
    display: block;
  }

  .gallery-caption {
    padding: var(--space-2) var(--space-3);
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    margin: 0;
  }
</style>
